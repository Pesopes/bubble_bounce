(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=s(i);fetch(i.href,l)}})();const de="/bubble_bounce/assets/1-msowq8PV.png",be="/bubble_bounce/assets/10-C2b_EmXV.png",fe="/bubble_bounce/assets/11-RrZkbv2B.png",pe="/bubble_bounce/assets/12-Cj-w1vrm.png",ge="/bubble_bounce/assets/16-CIkSIS7u.png",me="/bubble_bounce/assets/17-CCe0iIc4.png",we="/bubble_bounce/assets/18-wsb_O-g9.png",_e="/bubble_bounce/assets/19-B4aX6oMj.png",ye="/bubble_bounce/assets/2-CZcekOIb.png",ve="/bubble_bounce/assets/20-CBLc80yN.png",Be="/bubble_bounce/assets/21-B6YSg9Ux.png",Ce="/bubble_bounce/assets/22-Bey-tXPl.png",xe="/bubble_bounce/assets/23-CfGDoL72.png",Se="/bubble_bounce/assets/24-BHXDI67n.png",Me="/bubble_bounce/assets/25-D-lPi3tR.png",Pe="/bubble_bounce/assets/26-qODNZ1eh.png",De="/bubble_bounce/assets/27-CLKhPhSb.png",Ie="/bubble_bounce/assets/28-CYOAUwfl.png",Ee="/bubble_bounce/assets/29-D7x_Qp9C.png",Oe="/bubble_bounce/assets/3-_feIaOhr.png",ke="/bubble_bounce/assets/30-CaNdivBa.png",ze="/bubble_bounce/assets/31-B-NKGiGE.png",Re="/bubble_bounce/assets/32-8ghHFANu.png",Te="/bubble_bounce/assets/4-DD3Yexrc.png",Le="/bubble_bounce/assets/5-Btr9iXW_.png",qe="/bubble_bounce/assets/6-BGMDbjSf.png",We="/bubble_bounce/assets/7-CMnHBFWr.png",$e="/bubble_bounce/assets/8-kXJG1xv3.png",je=0,Z=.992,Ae=.96;class o{x;y;constructor(e=0,s=0){this.x=e,this.y=s}clone(){return new o(this.x,this.y)}squared(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}normalize(){var e=this.length();return e>0?this.div(e):new o(this.x,this.y)}div(e){return e instanceof o?new o(this.x/e.x,this.y/e.y):new o(this.x/e,this.y/e)}mult(e){return e instanceof o?new o(this.x*e.x,this.y*e.y):new o(this.x*e,this.y*e)}add(e){return e instanceof o?new o(this.x+e.x,this.y+e.y):new o(this.x+e,this.y+e)}sub(e){return e instanceof o?new o(this.x-e.x,this.y-e.y):new o(this.x-e,this.y-e)}negate(){return new o(-this.x,-this.y)}dot(e){return this.x*e.x+this.y*e.y}static lerp(e,s,n){return e.add(s.sub(e).mult(n))}}class O{pos;dim;borderRadius;constructor(e,s,n=1){this.pos=e,this.dim=s,this.borderRadius=n}clone(){return new O(this.pos.clone(),this.dim.clone(),this.borderRadius)}getCenter(){return this.pos.add(this.dim.div(2))}render(e){e.fillStyle="F0EBE3",le(e,Math.floor(this.pos.x),Math.floor(this.pos.y),this.dim.x,this.dim.y,this.borderRadius+15)}}class I{pos;dim;onClick;text;color;borderRadius;constructor(e,s,n,i,l="red",a=55){this.pos=e,this.dim=s,this.text=n,this.onClick=i,this.color=l,this.borderRadius=a}getCenter(){return this.pos.add(this.dim.div(2))}isInside(e){return e.x>=this.pos.x&&e.x<=this.pos.x+this.dim.x&&e.y>=this.pos.y&&e.y<=this.pos.y+this.dim.y}checkClick(e){this.isInside(e)&&this.onClick(this)}render(e){e.fillStyle=this.color,le(e,Math.floor(this.pos.x),Math.floor(this.pos.y),this.dim.x,this.dim.y,this.borderRadius),e.fillStyle="black",e.textAlign="center",e.textBaseline="middle",e.font=`${Math.floor(this.dim.y/3)}px "verdana", sans-serif`;const s=this.getCenter();e.fillText(this.text,s.x,s.y,this.dim.x)}}class z{pos;radius;velocity;spriteIndex;rotSpeed;rot=0;player;bouncedOffWall=!1;constructor(e,s,n,i,l=0){this.pos=e,this.radius=s,this.velocity=n,this.spriteIndex=i,this.rotSpeed=0,this.player=l}clone(){const e=new z(this.pos.clone(),this.radius,this.velocity.clone(),this.spriteIndex,this.player);return e.rot=this.rot,e.rotSpeed=this.rotSpeed,e.bouncedOffWall=this.bouncedOffWall,e}mass(){return Math.PI*this.radius*this.radius/100}kineticEnergy(){return this.mass()/2*this.velocity.squared()}outOfBounds(e,s){const n=this.radius+this.radius/3;return this.pos.x-this.radius+n<=0||this.pos.x+this.radius-n>=e||this.pos.y-this.radius+n<=0||this.pos.y+this.radius-n>=s}isCollidingBubble(e){const s=this.pos.sub(e.pos),n=this.radius+e.radius;return s.length()<=n}isCollidingBlock(e){const s=e.borderRadius;let n=!1;const i=Math.max(e.pos.x+s,Math.min(this.pos.x,e.pos.x+e.dim.x-s)),l=Math.max(e.pos.y+s,Math.min(this.pos.y,e.pos.y+e.dim.y-s)),a=new o(i,l);this.pos.sub(a).length()<=this.radius&&(n=!0);const g=[new o(e.pos.x+s,e.pos.y+s),new o(e.pos.x+e.dim.x-s,e.pos.y+s),new o(e.pos.x+s,e.pos.y+e.dim.y-s),new o(e.pos.x+e.dim.x-s,e.pos.y+e.dim.y-s)];for(const u of g)if(this.pos.sub(u).length()<=this.radius+s){n=!0;break}return n}collideBlock(e){const s=e.borderRadius;let n=!1,i=new o(0,0),l=0;const a=Math.max(e.pos.x+s,Math.min(this.pos.x,e.pos.x+e.dim.x-s)),c=Math.max(e.pos.y+s,Math.min(this.pos.y,e.pos.y+e.dim.y-s)),g=new o(a,c),u=this.pos.sub(g).length();u<=this.radius&&(n=!0,a===e.pos.x+s?i=new o(-1,0):a===e.pos.x+e.dim.x-s?i=new o(1,0):c===e.pos.y+s?i=new o(0,-1):c===e.pos.y+e.dim.y-s&&(i=new o(0,1)),l=this.radius-u);const m=[new o(e.pos.x+s,e.pos.y+s),new o(e.pos.x+e.dim.x-s,e.pos.y+s),new o(e.pos.x+s,e.pos.y+e.dim.y-s),new o(e.pos.x+e.dim.x-s,e.pos.y+e.dim.y-s)];for(const y of m){const h=this.pos.sub(y).length();if(h<=this.radius+s){n=!0,i=this.pos.sub(y).normalize(),l=this.radius+s-h;break}}if(n){this.pos=this.pos.add(i.mult(l));const y=this.velocity.dot(i);return this.velocity=this.velocity.sub(i.mult(2*y)),this.velocity=this.velocity.mult(Ae),this.bouncedOffWall=!0,!0}return!1}collideBubble(e){const s=this.pos.sub(e.pos),n=this.radius+e.radius,i=s.length();if(i<=n){const l=s.normalize(),a=this.velocity.sub(e.velocity),c=l.mult(2*a.dot(l)/(this.mass()+e.mass()));this.velocity=this.velocity.sub(c.mult(e.mass())),e.velocity=e.velocity.add(c.mult(this.mass()));const g=n-i,u=l.mult(g/2);this.pos=this.pos.add(u),e.pos=e.pos.sub(u);const m=c.normalize().dot(new o(-this.velocity.y,this.velocity.x).normalize());return this.rotSpeed=m/100,e.rotSpeed=m/100,!0}return!1}update(){this.velocity.y+=je*this.mass(),this.velocity=this.velocity.mult(Z),this.rotSpeed*=Z,this.rot+=this.rotSpeed,this.pos=this.pos.add(this.velocity)}render(e,s){this.rot=this.rot||Math.PI*2*Math.random(),Ne(e,s,this.pos,this.radius*2,this.rot)}simpleRender(e,s="rgb(200 0 0)"){e.fillStyle=s,Y(e,this.pos,this.radius)}isInside(e){return e.sub(this.pos).length()<=this.radius}}function Ne(t,e,s,n,i){t.save(),t.translate(Math.floor(s.x),Math.floor(s.y)),t.rotate(i),t.drawImage(e,-n/2,-n/2,n,n),t.restore()}function Y(t,e,s){t.beginPath(),t.arc(Math.floor(e.x),Math.floor(e.y),s,0,Math.PI*2),t.fill()}function le(t,e,s,n,i,l){t.strokeStyle="rgba(0, 0, 0, 1.0)",t.lineWidth=6,t.beginPath(),t.moveTo(e+l,s),t.lineTo(e+n-l,s),t.arcTo(e+n,s,e+n,s+l,l),t.lineTo(e+n,s+i-l),t.arcTo(e+n,s+i,e+n-l,s+i,l),t.lineTo(e+l,s+i),t.arcTo(e,s+i,e,s+i-l,l),t.lineTo(e,s+l),t.arcTo(e,s,e+l,s,l),t.stroke(),t.fill()}const Xe="/bubble_bounce/assets/abstract_dots-DTrwscDn.svg";class Fe{canvas;callbacks;evCache=[];previousEvDistance=-1;keyListeners=new Map;constructor(e,s){this.canvas=e,this.callbacks=s,window.addEventListener("resize",this.callbacks.onResize),document.addEventListener("pointerdown",this.handlePointerDown.bind(this)),document.addEventListener("pointerup",this.handlePointerUp.bind(this)),document.addEventListener("pointermove",this.handlePointerMove.bind(this)),document.addEventListener("wheel",this.handleWheel.bind(this)),document.addEventListener("keydown",this.handleKeyDown.bind(this))}onKey(e,s){return this.keyListeners.set(e,s),this}removeEvent(e){const s=this.evCache.findIndex(n=>n.pointerId===e.pointerId);this.evCache.splice(s,1)}convertEventPos(e){const s=this.canvas.getBoundingClientRect(),n=this.canvas.width/s.width,i=this.canvas.height/s.height;return new o((e.clientX-s.left)*n,(e.clientY-s.top)*i)}handlePointerMove(e){const s=this.convertEventPos(e);this.callbacks.onPointerMove(s);const n=this.evCache.findIndex(i=>i.pointerId===e.pointerId);if(this.evCache[n]=e,this.evCache.length===2){const i=new o(this.evCache[0].clientX,this.evCache[0].clientY),l=new o(this.evCache[1].clientX,this.evCache[1].clientY),a=i.sub(l).length(),c=13;this.previousEvDistance>0&&(a>this.previousEvDistance+c&&this.callbacks.onPinch("in"),a<this.previousEvDistance-c&&this.callbacks.onPinch("out")),this.previousEvDistance=a}}handlePointerDown(e){const s=this.convertEventPos(e);this.callbacks.onPointerDown(s),this.evCache.push(e)}handlePointerUp(e){const s=this.convertEventPos(e);this.callbacks.onPointerUp(s),this.removeEvent(e),this.evCache.length<2&&(this.previousEvDistance=-1)}handleWheel(e){this.callbacks.onScroll(e.deltaY)}handleKeyDown(e){const s=this.keyListeners.get(e.key);s&&(e.preventDefault(),s())}}class re{static set(e,s){try{const n=JSON.stringify(s);return localStorage.setItem(e,n),!0}catch(n){return console.error(`Error saving to localStorage for key "${e}":`,n),!1}}static get(e,s){try{const n=localStorage.getItem(e);return n===null?s===void 0?null:s:JSON.parse(n)}catch(n){return console.error(`Error reading from localStorage for key "${e}":`,n),s===void 0?null:s}}static remove(e){try{localStorage.removeItem(e)}catch(s){console.error(`Error removing item from localStorage for key "${e}":`,s)}}}const Ye=Object.assign({"./assets/balls/1.png":de,"./assets/balls/10.png":be,"./assets/balls/11.png":fe,"./assets/balls/12.png":pe,"./assets/balls/16.png":ge,"./assets/balls/17.png":me,"./assets/balls/18.png":we,"./assets/balls/19.png":_e,"./assets/balls/2.png":ye,"./assets/balls/20.png":ve,"./assets/balls/21.png":Be,"./assets/balls/22.png":Ce,"./assets/balls/23.png":xe,"./assets/balls/24.png":Se,"./assets/balls/25.png":Me,"./assets/balls/26.png":Pe,"./assets/balls/27.png":De,"./assets/balls/28.png":Ie,"./assets/balls/29.png":Ee,"./assets/balls/3.png":Oe,"./assets/balls/30.png":ke,"./assets/balls/31.png":ze,"./assets/balls/32.png":Re,"./assets/balls/4.png":Te,"./assets/balls/5.png":Le,"./assets/balls/6.png":qe,"./assets/balls/7.png":We,"./assets/balls/8.png":$e}),q=Object.fromEntries(Object.entries(Ye).map(([t,e])=>{const s=t.match(/(\d+)\.png$/),n=s?s[1]:"1",i=new Image;return i.src=e,[n,i]})),r=document.getElementById("main-canvas");if(!r)throw new Error("Canvas not found");const W=r.getContext("2d");if(!W)throw new Error("2D context not found");const w=new OffscreenCanvas(r.width,r.height),f=w.getContext("2d",{alpha:!1});if(!f)throw new Error("2D context not found for offscreen canvas");let L=new o,d=[],_=[],B=[],k=[],ae=0,x=0,G=0,S=Math.round(Math.random())+1,A=!1,U=null,R=!0,C=!0,P=!1;const M=[0,3,5,8,10,15];let D=M[2];const T=75,Ge=50,F=37,N=300,$=500;let b=[],K=-1;const Ke=18,j=new Image;j.src=Xe;let p=null;const Ue=t=>{for(const e of _)if(t.isCollidingBlock(e))return!0;for(const e of d)if(t.isCollidingBubble(e))return!0;return!1};function ce(t){return Object.values(q)[t]||q[1]}function Q(){return Math.floor(Math.random()*Object.keys(q).length)}function V(){b[0]=Q();do b[1]=Q();while(b[0]===b[1])}function He(){const t=new o(600,200),e=40,s="#92D8F8",n="#363858",i=new o(700,250);B.push(new I(new o((r.width-i.x)/2,r.height-i.y-100),i,"START",h=>{ue(),x=1},"pink")),B.push(new I(new o((r.width-t.x)/2,r.height-t.y*1-400),t,C?"Blocks: Enabled":"Blocks: Disabled",h=>{C=!C,h.text=C?"Blocks: Enabled":"Blocks: Disabled",h.color=C?s:n,E()},C?s:n)),B.push(new I(new o((r.width-t.x)/2,r.height-t.y*2-400-e*1),t,P?"Require bounce: Enabled":"Require bounce: Disabled",h=>{P=!P,h.text=P?"Require bounce: Enabled":"Require bounce: Disabled",h.color=P?s:n,E()},P?s:n));const a=`rgb(${-(D/M[M.length-1])*100+200}, 233, 203)`;B.push(new I(new o((r.width-t.x)/2,r.height-t.y*3-400-e*2),t,`Small bubbles: ${D}`,h=>{const v=M.indexOf(D);D=M[(v+1)%M.length];const X=D/M[M.length-1];h.color=`rgb(${-X*100+200}, 233, 203)`,h.text=`Small bubbles: ${D}`,E()},a));const c=new o(r.width/2,300),g=new o(200,110);B.push(new I(new o((r.width-g.x)/2,c.y+T/2+g.y-e-20),g,"Randomize",h=>{V();for(let v=0;v<k.length;v++)k[v].spriteIndex=b[v];E()},a));const u=new o(80,T*2),m="#dbedd0",y=200;b.length===0&&V();for(let h=0;h<=1;h++){const v=h*2-1;k.push(new z(c.add(new o(v*y,0)),T,new o,b[h],h+1)),B.push(new I(c.add(new o(v*y-T-u.x,-u.y/2)),u,"<",X=>{b[h]=(b[h]-1)%Object.keys(q).length,b[h]<0&&(b[h]=Object.keys(q).length-1),k[h].spriteIndex=b[h],E()},m,20)),B.push(new I(c.add(new o(v*y+T,-u.y/2)),u,">",X=>{b[h]=(b[h]+1)%Object.keys(q).length,k[h].spriteIndex=b[h],E()},m,20))}}function Je(){const t=new o(30,700),e=t.x/5,s=new o(r.width-e-t.x,(r.height-t.y)/2);if(_.push(new O(new o(e,(r.height-t.y)/2),t.mult(1))),_.push(new O(s,t.mult(1))),C){const n=Math.round(Math.random())+1;if(n===1){const i=230+170*Math.random(),l=new o(e+t.x+Math.random()*(r.width-i-2*(e+t.x)),(r.height-t.x)/2);_.push(new O(l,new o(i,t.x)))}else if(n===2){const i=170+80*Math.random(),l=100+50*Math.random(),a=new o(e+t.x+Math.random()*(r.width-i-l-2*(e+t.x)),(r.height-t.x)/2),c=new o(a.x+i+Math.random()*(r.width-i-l-a.x-e-t.x),(r.height-t.x)/2);_.push(new O(a,new o(i,t.x))),_.push(new O(c,new o(l,t.x)))}}}j.onload=t=>{H()};function H(){w.width=r.width,w.height=r.height,f.clearRect(0,0,w.width,w.height),f.fillStyle="#efe1e1",f.fillRect(0,0,w.width,w.height),f.save(),f.filter="drop-shadow(4px 4px 5px black) brightness(0.1) opacity(10%)",f.scale(2,2),f.drawImage(j,0,0,j.width,j.height),f.restore(),C&&x!==2&&(f.lineWidth=3,f.strokeStyle="rgba(0, 0, 0, 0.4)",f.beginPath(),f.moveTo(w.width/10,w.height/2),f.lineTo(9*w.width/10,w.height/2),f.stroke());for(const t of _)t.render(f)}function ee(t,e,s,n){const i=+n*2-1,l=new z(t,T,new o,e,s);d.push(l);for(let u=0;u<=5;u++)d.push(new z(new o(u/5*r.width,t.y+N/2*i),Ge,new o,e,s));const a=150;let c=0,g=0;for(;c<D&&g<=a;){const u=new z(new o(F+Math.random()*(r.width-F*2),t.y-N/2*i*Math.random()),F,new o,e,s);Ue(u)||(c++,d.push(u)),g++}g>=a&&console.error("couldn't spawn all small bubbles :(")}function he(){te(),at(rt()),Je(),He();const t=new o(r.width/2,N),e=new o(r.width/2,r.height-N);ee(t,b[0],1,!0),ee(e,b[1],2,!1);const s={onPointerMove:n=>{L=n},onPointerDown:n=>{if(L=n,x===0){for(const i of B)i.checkClick(n);return}if(x===2){ue();return}x===1&&!A&&(p=lt(L),p&&p.player!==S&&(p=null))},onPointerUp(n){if(p){const i=p.pos.sub(L).mult(K);if(i.length()-p.radius<=20){p=null;return}R=!0,U=J(),p.velocity=i.normalize().mult(Math.min(i.length(),$)/$*Ke),p=null,Qe(),A=!0}},onScroll(n){n<0?ie():oe()},onPinch:n=>{n==="in"?ie():n==="out"&&oe()},onResize:()=>{te()}};new Fe(r,s)}function ue(){x=0,d=[],_=[],B=[],k=[],S=Math.round(Math.random())+1,he(),H()}function J(){return{bubbles:d.map(t=>t.clone()),blocks:_.map(t=>t.clone()),currentPlayer:S,firstBounce:R}}function Ze(t){d=t.bubbles,_=t.blocks,S=t.currentPlayer,R=t.firstBounce}function te(){r.height=1600,r.width=950}function se(t){x=2,_=[],H(),G=t}function Qe(){S===1?S=2:S=1}const Ve=()=>{for(const t of d)if(t.velocity.length()>.3)return!1;return!0},et=()=>{let t=!1,e=!1;for(const s of d)if(s.player===1?t=!0:e=!0,t&&e)break;return t&&e?0:t?2:1};function ne(){d.forEach((t,e)=>{t.update();for(const s of d.slice(e+1))t.collideBubble(s)&&(R&&P&&t.player===S!=(s.player===S)&&Ze(U??J()),R=!1);for(const s of _)t.collideBlock(s)&&(R=!1)})}function tt(t){if(ae=t,d=d.filter(e=>!e.outOfBounds(r.width,r.height)),ne(),Ve()&&A){for(let e=0;e<1e3;e++)ne();if(R=!0,A=!1,U=J(),d.length===0)se(0);else{const e=et();e!==0&&se(e)}}}function st(t){t.clearRect(0,0,r.width,r.height),t.drawImage(w,0,0);{t.lineWidth=2;for(let s=1;s<=2;s++){const n=d.filter(i=>i.player===s);t.beginPath(),t.strokeStyle=`rgba(0, 0, 0, ${.2})`,n.forEach((i,l)=>{for(const a of n.slice(l+1))i.pos.sub(a.pos).length()<=300&&(t.moveTo(Math.floor(i.pos.x),Math.floor(i.pos.y)),t.lineTo(Math.floor(a.pos.x),Math.floor(a.pos.y)))}),t.stroke()}}for(const e of d)e.player===S&&!A&&(t.fillStyle="rgba(0,0,0,0.3)",Y(t,e.pos,e.radius+e.radius*.15*(Math.sin(ae/250)+1))),e.render(t,ce(e.spriteIndex));if(p){const e=p.pos,s=new o(r.width,r.height).length(),n=e.add(e.sub(L).mult(K).normalize().mult(s)),i=ot(e,n,p.radius,p,200);i&&(t.fillStyle=p.player===2?"rgba(158, 152, 250, 0.3)":"rgba(250, 163, 152, 0.3)",Y(t,i,p.radius));let l=e.sub(L);t.strokeStyle="rgb(0 0 0)",l.length()>$&&(l=l.normalize().mult($),t.strokeStyle="rgb(120 0 0)");const a=l.length()/$;let c=e.add(l.mult(K));t.beginPath(),t.setLineDash([5+5*a,17*a]),t.lineWidth=6,t.moveTo(e.x,e.y),t.lineTo(c.x,c.y),t.stroke(),t.setLineDash([])}}function nt(t){t.clearRect(0,0,r.width,r.height),t.drawImage(w,0,0);let e="";G===0?e="Draw":G===1?e="Player 1 won!":e="Player 2 won!",t.fillStyle="black",t.textAlign="center",t.font='bold 120px "verdana", sans-serif',t.fillText(e,r.width/2,r.height/2),t.font='60px "verdana", sans-serif',t.fillText("Click to continue...",r.width/2,r.height*2/3)}function it(t){t.clearRect(0,0,r.width,r.height),t.drawImage(w,0,0);for(const e of B)e.render(t);for(const e of k)e.render(t,ce(e.spriteIndex));t.fillStyle="black",t.textAlign="center",t.font='bold 100px "Helvetica", sans-serif',t.fillText("Bubble Bounce",r.width/2,r.height/10)}function ot(t,e,s,n,i=100){const l=e.sub(t),a=new z(new o,s,new o,1);for(let c=1;c<=i;c++){const g=c/i,u=t.add(l.mult(g));a.pos=u;for(let m=0;m<d.length;m++){const y=d[m];if(y!==n&&a.isCollidingBubble(y))return a.pos.mult(1)}for(const m of _)if(a.isCollidingBlock(m))return a.pos.mult(1)}return null}function lt(t){for(let e=0;e<d.length;e++){const s=d[e];if(s.isInside(t))return s}return null}function rt(){const t={smallBallCount:M[2],enableMiddleBlocks:!0,requiredBounce:!1},e=re.get("bubble_bounce_settings");return e||t}function at(t){D=t.smallBallCount,C=t.enableMiddleBlocks,P=t.requiredBounce,E()}function E(){re.set("bubble_bounce_settings",{smallBallCount:D,enableMiddleBlocks:C,requiredBounce:P})}const ie=()=>{r.style.transform="scale(1)"},oe=()=>{r.style.transform="scale(0.8)"};he();(()=>{function t(e){if(window.requestAnimationFrame(t),!W)throw new Error("Main loop: 2D context not found");x===0?it(W):x===1?(tt(e),st(W)):x===2&&nt(W)}t(0)})();
